<div class="reset-page">
  <div class="reset-container">
    <h2 class="reset-title">Reset Password</h2>

    <form [formGroup]="resetPasswordForm">

      <!-- Success Message -->
      <!-- <div *ngIf="successMessage" class="reset-success">
        {{ successMessage }}
      </div> -->

      <!-- Backend Validation -->
      <div *ngIf="serverErrors['token']" class="reset-error">
        <small>{{ serverErrors['token'] }}</small>
      </div>

      <div *ngIf="serverErrors['general']" class="reset-error">
        <small>{{ serverErrors['general'] }}</small>
      </div>

      <!-- New Password -->
      <div class="form-group">
        <label for="password">New Password</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder="Enter new password"
        />

        <!-- Frontend Validation -->
        <div *ngIf="(resetPasswordForm.get('password')?.touched || submitted) && resetPasswordForm.get('password')?.invalid" class="validation-error">
          <small *ngIf="resetPasswordForm.get('password')?.hasError('required')">
            Password is required
          </small>
          <small *ngIf="resetPasswordForm.get('password')?.hasError('minlength')">
            Password must be at least 8 characters
          </small>
        </div>

        <!-- Backend Validation -->
        <div *ngIf="serverErrors['password']" class="validation-error">
          <small>{{ serverErrors['password'] }}</small>
        </div>
      </div>

      <!-- Confirm Password -->
      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input
          id="confirmPassword"
          type="password"
          formControlName="confirmPassword"
          placeholder="Confirm your password"
        />

        <!-- Frontend Validation -->
        <div *ngIf="(resetPasswordForm.get('confirmPassword')?.touched || submitted) && resetPasswordForm.get('confirmPassword')?.invalid" class="validation-error">
          <small *ngIf="resetPasswordForm.get('confirmPassword')?.hasError('required')">
            Confirm Password is required
          </small>
        </div>

        <div *ngIf="submitted && passwordMismatch" class="validation-error">
          <small>Passwords do not match</small>
        </div>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        (click)="submit(resetPasswordForm)"
        class="reset-btn"
      >
        Confirm Password
      </button>
    </form>
  </div>
</div>
