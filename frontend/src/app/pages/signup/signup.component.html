<div class="signup-page">
  <div class="overlay"></div>

  <div class="signup-container">
    <div class="signup-card">
      <h2 class="signup-title">Create Account</h2>

      <form [formGroup]="signupForm" (ngSubmit)="submitForm(signupForm)">
        <!-- General Error -->
        <div *ngIf="serverErrors['general']" class="error-text text-center">
          {{ serverErrors['general'] }}
        </div>

        <!-- Username -->
        <div class="form-group">
          <label for="username">Username</label>
          <input
            id="username"
            type="text"
            formControlName="username"
            placeholder="Enter your username"
          />
          <div
            *ngIf="(signupForm.get('username')?.touched || submitted) && signupForm.get('username')?.invalid"
            class="error-text"
          >
            <small *ngIf="signupForm.get('username')?.hasError('required')">
              Username is required
            </small>
          </div>
          <div *ngIf="serverErrors['username']" class="error-text">
            {{ serverErrors['username'] }}
          </div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Email</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Enter your email"
          />
          <div
            *ngIf="(signupForm.get('email')?.touched || submitted) && signupForm.get('email')?.invalid"
            class="error-text"
          >
            <small *ngIf="signupForm.get('email')?.hasError('required')">
              Email is required
            </small>
            <small *ngIf="signupForm.get('email')?.hasError('email')">
              Enter a valid email
            </small>
          </div>
          <div *ngIf="serverErrors['email']" class="error-text">
            {{ serverErrors['email'] }}
          </div>
        </div>

        <!-- Password -->
        <div class="form-group">
          <label for="password">Password</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            placeholder="Enter your password"
          />
          <div
            *ngIf="(signupForm.get('password')?.touched || submitted) && signupForm.get('password')?.invalid"
            class="error-text"
          >
            <small *ngIf="signupForm.get('password')?.hasError('required')">
              Password is required
            </small>
            <small *ngIf="signupForm.get('password')?.hasError('minlength')">
              Password must be at least 8 characters
            </small>
          </div>
          <div *ngIf="serverErrors['password']" class="error-text">
            {{ serverErrors['password'] }}
          </div>
        </div>

        <button type="submit" class="signup-btn">
          Sign Up
        </button>
      </form>

      <div class="links">
        <p>
          Already have an account?
          <a routerLink="/login">Log in</a>
        </p>
      </div>
    </div>
  </div>
</div>
